# Decision Log

此文件使用列表格式记录架构和实现决策。
2025-06-14 09:30:00 - 更新日志。

*

## 决策

*

## 理由

*

## 实现细节

*
[2025-06-14 10:19:00] - **MCP 服务器架构决策**
## 决策
创建基于现有 CodeSemanticSearch 的轻量级 MCP 控制台应用程序，仅提供 SemanticCodeSearch 工具，移除 IndexCodebase 工具以简化实现。

## 理由
1. 用户明确表示不需要 IndexCodebase 功能
2. 简化架构降低复杂性和维护成本
3. 专注于核心语义搜索功能
4. 利用现有的 CodeSemanticSearch.cs 实现

## 实现细节
- 使用 Microsoft.Extensions.Hosting 创建控制台主机
- 配置 WithStdioServerTransport() 用于标准输入输出通信
- 单一 SemanticCodeSearch 工具支持自然语言代码搜索
- 通过配置文件管理默认代码库路径和 API 密钥
[2025-06-14 14:51:00] - **MCP 工具用户体验优化决策**

## 决策

优化 MCP 工具的描述和参数说明，提升工具的可用性和用户理解度。

## 理由

1. 原有的工具描述过于简洁，用户难以理解使用场景
2. 参数说明不够详细，特别是路径格式要求不明确
3. 缺少使用提示和示例，影响工具的易用性
4. 需要明确默认行为和参数要求

## 实现细节

- 工具描述增加使用场景提示："当需要查看项目中特定功能或逻辑的代码实现时"
- codebasePath 参数明确默认使用当前工作目录，要求提供完整绝对路径
- query 参数增加更多搜索示例："异常处理机制"、"配置管理"等
- limit 参数明确默认值说明
- 所有描述更加详细和实用